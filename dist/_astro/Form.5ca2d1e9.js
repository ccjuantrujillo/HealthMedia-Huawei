import"./disclose-version.76be68c5.js";import{d as X,i as H,c as L,p as Y,a as $,b as aa,e as ea,g as s,f as sa,t as la,r as ta,h as ia,j as y,k as va,s as t,o as x,l as e,m as a,n as ra,q as m,u as na,v as u}from"./runtime.103ba0f1.js";/* empty css                             */const oa={}.PUBLIC_API_URL||"http://101.44.2.188:5000/registrar-archivo";var ca=u("<p> </p>"),da=u('<div class="view-preview svelte-1m76naz"><div class="image svelte-1m76naz"><img alt="preview" class="svelte-1m76naz"> <!></div> <input class="btn svelte-1m76naz" type="submit" value="Evaluar"></div>'),ma=u('<div class="wrapp svelte-1m76naz"><div class="upload svelte-1m76naz"><label for="file">Sube tu imagen</label> <input class="file-upload svelte-1m76naz" type="file" name="file"></div> <!></div>'),pa=u('<div class="result svelte-1m76naz"><img alt="preview" class="svelte-1m76naz"> <div class="response svelte-1m76naz"><ul class="svelte-1m76naz"><li class="svelte-1m76naz"><div class="icon svelte-1m76naz"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 2H18V14H3.17L2 15.17V2ZM2 0C0.9 0 0.00999999 0.9 0.00999999 2L0 24L4 16H18C19.1 16 24 15.1 24 14V2C24 0.9 19.1 0 18 0H2ZM4 10H16V12H4V10ZM4 7H16V9H4V7ZM4 4H16V6H4V4Z" fill="white"></path></svg></div> <div class="item"><h4 class="svelte-1m76naz">Resultado:</h4> <p> </p></div></li> <li class="svelte-1m76naz"><div class="icon svelte-1m76naz"><p>MEL</p></div> <div class="item"><h4 class="svelte-1m76naz">Melanoma:</h4> <p> </p></div></li> <li class="svelte-1m76naz"><div class="icon svelte-1m76naz"><p>NEL</p></div> <div class="item"><h4 class="svelte-1m76naz">Other:</h4> <p> </p></div></li></ul></div></div> <button class="btn svelte-1m76naz">Analizar otra imagen</button>',!0),_a=u('<div class="form svelte-1m76naz"><div class="wrapper svelte-1m76naz"><!> <!></div></div>');function ha(I,F){$(F,!1);let v=m(),p=m(""),R=m(0),Z=m(0),_=m(""),g=m(!1);function P(){t(p,""),t(R,0),t(Z,0),t(_,""),t(g,!1)}async function j(){if(!s(v).files)return;const l=new FormData,r=s(v).files[0];l.append("archivo",r);const n={method:"POST",body:l};try{const c=await(await fetch(`${oa}`,n)).json(),d=c.predicted_label,i=c.scores;console.log(d),console.log(i),d=="melanoma"?t(p,"Se ha detectado un melanoma"):t(p,"No se ha detectado un melanoma")}catch(o){console.log(o),t(p,"Error al subir la imagen")}t(g,!0)}function A(){if(!s(v).files)return;const l=s(v).files[0];l&&t(_,URL.createObjectURL(l))}var C=x(I,!0,_a),D=e(C),E=e(D),O=a(a(E));H(E,()=>s(g)==!1,l=>{var r=x(l,!0,ma),n=e(r),o=e(n),c=a(a(o));aa(c,i=>t(v,i));var d=a(a(n));ea("change",c,A,!1),H(d,()=>s(_),i=>{var h=x(i,!0,da),z=e(h),b=e(z),V=a(a(b)),M=a(a(z));sa(b,"src",()=>s(_)),H(V,()=>s(v).files,f=>{var w=x(f,!0,ca),U=e(w);la(U,()=>s(v).files[0].name),L(f,w)},null),M.__click=j,L(i,h)},null),L(l,r)},null),H(O,()=>s(g)==!0,l=>{var r=ra(l,!0,pa),n=na(r),o=e(n),c=a(a(o)),d=e(c),i=e(d),h=e(i),z=a(a(h)),b=e(z),V=a(a(b)),M=e(V),f=a(a(i)),w=e(f),U=a(a(w)),S=e(U),B=a(a(S)),N=e(B),q=a(a(f)),T=e(q),G=a(a(T)),J=e(G),K=a(a(J)),Q=e(K),W=a(a(n)),k;ta(()=>{k!==(k=s(_))&&ia(o,"src",k),y(M,s(p)),y(N,s(R)),y(Q,s(Z))}),W.__click=P,va(l,r)},null),L(I,C),Y()}X(["click"]);export{ha as default};
